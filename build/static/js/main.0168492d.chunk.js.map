{"version":3,"sources":["components/Loading.jsx","services/userAPI.js","pages/Login.jsx","services/searchAlbumsAPI.js","components/FormSearch.jsx","components/Header.jsx","pages/Search.jsx","services/musicsAPI.js","services/favoriteSongsAPI.js","components/MusicCard.jsx","pages/Album.jsx","pages/Favorites.jsx","pages/NotFound.jsx","pages/Profile.jsx","pages/ProfileEdit.jsx","components/Component.jsx","App.js","index.js"],"names":["Loading","React","Component","USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Login","state","nameLogin","buttonLogin","loading","onInputLogin","target","value","setState","validInput","length","changeRoute","props","history","push","onClickLogin","event","preventDefault","then","this","className","htmlFor","type","onChange","disabled","onClick","searchAlbumsAPI","artist","a","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","FormSearch","inputSearch","buttonSearch","saveInput","saveSearch","setNameAlbums","onInputSearch","album","to","src","alt","Header","nameUser","getNameHeader","Search","getMusics","id","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","getFavoriteSongs","addSong","song","removeSong","filter","s","trackId","MusicCard","checked","musicFavorite","setRemoveMusic","music","getMusicFavorite","some","track","setMusic","setAddFavotite","check","console","log","trackName","previewUrl","controls","kind","Album","nameGroup","nameCollection","musics","match","params","Favorites","NotFound","Profile","ProfileEdit","Components","exact","path","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0168492d.chunk.js","sourcesContent":["import React from 'react';\n\nclass Loading extends React.Component {\n  render() {\n    return (\n      <div>Carregando...</div>\n    );\n  }\n}\n\nexport default Loading;\n","const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\nimport './css/styleLogin.css';\n\nclass Login extends React.Component {\nstate = {\n  nameLogin: '',\n  buttonLogin: true,\n  loading: false,\n}\n\nonInputLogin = ({ target }) => {\n  const { name, value } = target;\n  this.setState({\n    [name]: value,\n  }, () => this.setState({\n    buttonLogin: this.validInput(),\n  }));\n}\n\nvalidInput = () => {\n  const { nameLogin } = this.state;\n  const minLength = 3;\n  if (nameLogin.length < minLength) {\n    return true;\n  }\n  return false;\n}\n\nchangeRoute = () => {\n  const { history } = this.props;\n  history.push('/search');\n}\n\nonClickLogin = (event) => {\n  const { nameLogin } = this.state;\n  event.preventDefault();\n  createUser({\n    name: nameLogin,\n  }).then(\n    () => {\n      this.changeRoute();\n    },\n    this.setState({ loading: true }),\n  );\n}\n\nrender() {\n  const { buttonLogin, nameLogin, loading } = this.state;\n  return (\n    <section>\n      {loading\n        ? <Loading />\n        : (\n          <div data-testid=\"page-login\" className=\"page-login\">\n            <h1>Login</h1>\n            <div className=\"forms-content\">\n              <form>\n                <label htmlFor=\"login-name-input\">\n                  <input\n                    type=\"text\"\n                    data-testid=\"login-name-input\"\n                    name=\"nameLogin\"\n                    value={ nameLogin }\n                    onChange={ this.onInputLogin }\n                  />\n                </label>\n                <button\n                  type=\"submit\"\n                  data-testid=\"login-submit-button\"\n                  disabled={ buttonLogin }\n                  onClick={ this.onClickLogin }\n                >\n                  Entrar\n                </button>\n              </form>\n            </div>\n          </div>\n        )}\n    </section>\n  );\n}\n}\n\nLogin.propTypes = {\n  buttonLogin: PropTypes.bool,\n  onInputChange: PropTypes.func,\n}.isRequired;\n\nexport default Login;\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Loading from './Loading';\n\nexport default class FormSearch extends Component {\n  state = {\n    inputSearch: '',\n    buttonSearch: true,\n    loading: false,\n    saveInput: '',\n    saveSearch: [],\n  }\n\n  setNameAlbums = async () => {\n    const { inputSearch } = this.state;\n    this.setState({ loading: true });\n    const response = await searchAlbumsAPI(inputSearch);\n    this.setState({\n      saveInput: inputSearch,\n      saveSearch: response,\n      loading: false,\n    },\n    () => this.setState({\n      inputSearch: '',\n    }));\n  }\n\n  onInputSearch = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, () => this.setState({\n      buttonSearch: this.validInput(),\n    }));\n  }\n\n  validInput = () => {\n    const { inputSearch } = this.state;\n    const minLength = 2;\n    if (inputSearch.length < minLength) {\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { buttonSearch, inputSearch, loading, saveInput, saveSearch } = this.state;\n    return (\n      <div className=\"page-search\">\n        {loading ? <Loading />\n          : (\n            <div>\n              <form>\n                <label htmlFor=\"search-artist-input\">\n                  <input\n                    type=\"text\"\n                    data-testid=\"search-artist-input\"\n                    name=\"inputSearch\"\n                    value={ inputSearch }\n                    onChange={ this.onInputSearch }\n                  />\n                </label>\n                <button\n                  type=\"submit\"\n                  data-testid=\"search-artist-button\"\n                  disabled={ buttonSearch }\n                  onClick={ this.setNameAlbums }\n                >\n                  {' '}\n                  Pesquisar\n                </button>\n              </form>\n              <h3 className=\"title-search\">\n                {saveInput && `Resultado de álbuns de: ${saveInput}`}\n              </h3>\n              <div className=\"result-search\">\n                {saveSearch.length === 0\n                  ? <h2>Nenhum álbum foi encontrado</h2>\n                  : saveSearch.map((album) => (\n                    <div\n                      key={ album.collectionId }\n                      className=\"collection\"\n                    >\n                      <Link\n                        to={ `/album/${album.collectionId}` }\n                        data-testid={ `link-to-album-${album.collectionId}` }\n                      >\n                        <img\n                          src={ album.artworkUrl100 }\n                          alt={ `Álbum ${album.collectionName}` }\n                        />\n\n                        <p className=\"collection-artist\">\n                          { album.artistName }\n                        </p>\n\n                        <p className=\"collection-name\">\n                          { album.collectionName }\n                        </p>\n                      </Link>\n                    </div>\n                  ))}\n              </div>\n            </div>\n          )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nexport default class Header extends Component {\nstate = {\n  loading: false,\n  nameUser: '',\n};\n\ncomponentDidMount() {\n  this.getNameHeader();\n}\n\ngetNameHeader = async () => {\n  this.setState({ loading: true });\n  const response = await getUser();\n  this.setState({ nameUser: response.name, loading: false });\n}\n\nrender() {\n  const { nameUser, loading } = this.state;\n  return (\n    <header data-testid=\"header-component\">\n      {loading ? <Loading />\n        : (\n          <div>\n            {/* <h1>Title</h1> */}\n            <p>\n              Úsuario:\n              { ' ' }\n              <span data-testid=\"header-user-name\">{ nameUser }</span>\n            </p>\n            <nav>\n              <Link to=\"/search\" data-testid=\"link-to-search\"> Search </Link>\n              <Link to=\"/favorites\" data-testid=\"link-to-favorites\"> Favoritos </Link>\n              <Link to=\"/profile\" data-testid=\"link-to-profile\"> Perfil </Link>\n            </nav>\n          </div>)}\n    </header>\n  );\n}\n}\n","import React, { Component } from 'react';\nimport FormSearch from '../components/FormSearch';\nimport Header from '../components/Header';\nimport './css/styleSearch.css';\n\nclass Search extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        <h1>Search</h1>\n        <div>\n          <FormSearch />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropType from 'prop-types';\nimport { addSong, getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport Loading from './Loading';\n\nclass MusicCard extends Component {\nstate = {\n  loading: false,\n  checked: false,\n  musicFavorite: false,\n}\n\ncomponentDidMount() {\n  this.getMusicFavorite();\n}\n\nsetRemoveMusic = async () => {\n  this.setState({ loading: true });\n  const { music } = this.props;\n  await removeSong(music);\n  this.setState({ loading: false });\n}\n\ngetMusicFavorite = async () => {\n  this.setState({ loading: true });\n  const { music } = this.props;\n  const response = await getFavoriteSongs();\n  this.setState({ loading: false });\n  const result = response.some((track) => track.trackId === music.trackId);\n  if (result) {\n    this.setState({ checked: true });\n  } else {\n    this.setState({ checked: false });\n  }\n}\n\nsetMusic = async (music) => {\n  this.setState({ loading: true });\n  await addSong(music);\n  this.setState({ loading: false });\n}\n\nsetAddFavotite = () => {\n  const { music, check } = this.props;\n  console.log(check);\n  const { checked } = this.state;\n  if (check === 'favorito') {\n    this.setRemoveMusic();\n    this.setState({ musicFavorite: true });\n  } else if (checked) {\n    this.setRemoveMusic();\n    this.setState({ checked: false });\n  } else {\n    this.setState({\n      checked: true,\n    });\n    this.setMusic(music);\n  }\n}\n\nrender() {\n  const { music } = this.props;\n  const { loading, checked, musicFavorite } = this.state;\n  return (\n    <div>\n      {loading && <Loading /> }\n      {musicFavorite ? null\n        : (\n          <div>\n            <p>{music.trackName}</p>\n            <audio data-testid=\"audio-component\" src={ music.previewUrl } controls>\n              <track kind=\"captions\" />\n              O seu navegador não suporta o elemento\n              {' '}\n              {' '}\n              <code>audio</code>\n              .\n            </audio>\n            <label\n              htmlFor=\"forms\"\n              data-testid={ `checkbox-music-${music.trackId}` }\n            >\n              <input\n                type=\"checkbox\"\n                checked={ checked }\n                onChange={ this.setAddFavotite }\n              />\n              Favorita\n            </label>\n          </div>\n        )}\n    </div>\n  );\n}\n}\n\nMusicCard.propTypes = {\n  music: PropType.object,\n}.isRequired;\n\nexport default MusicCard;\n","import React from 'react';\nimport PropType from 'prop-types';\nimport Header from '../components/Header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../components/MusicCard';\n\nclass Album extends React.Component {\nstate = {\n  nameGroup: '',\n  nameCollection: '',\n  musics: [],\n}\n\ncomponentDidMount() {\n  this.setMusic();\n}\n\nsetMusic = async () => {\n  const { match: { params: { id } } } = this.props;\n  const response = await getMusics(id);\n  this.setState({\n    nameGroup: response[0].artistName,\n    nameCollection: response[0].collectionName,\n    musics: response.filter(({ kind }) => kind === 'song'),\n  });\n}\n\nrender() {\n  const { nameGroup, nameCollection, musics } = this.state;\n  return (\n    <div data-testid=\"page-album\">\n      <Header />\n      <h1>Album</h1>\n      <p data-testid=\"album-name\">\n        { nameCollection }\n      </p>\n      <p data-testid=\"artist-name\">\n        { nameGroup }\n      </p>\n      { musics.map((music) => (<MusicCard key={ music.trackId } music={ music } />))}\n    </div>\n  );\n}\n}\n\nAlbum.propTypes = {\n  id: PropType.string,\n}.isRequired;\n\nexport default Album;\n","import React from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport MusicCard from '../components/MusicCard';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\n\nclass Favorites extends React.Component {\nstate = {\n  loading: false,\n  checked: 'favorito',\n  musicFavorite: [],\n}\n\ncomponentDidMount() {\n  this.getMusicFavorite();\n}\n\ngetMusicFavorite = async () => {\n  this.setState({ loading: true });\n  const response = await getFavoriteSongs();\n  this.setState({ loading: false, musicFavorite: response });\n}\n\nrender() {\n  const { musicFavorite, loading, checked } = this.state;\n  return (\n    <div data-testid=\"page-favorites\">\n      <Header />\n      <h1>Favorites</h1>\n      {loading && <Loading />}\n      {\n        musicFavorite.map((track) => (<MusicCard\n          key={ track.trackId }\n          music={ track }\n          check={ checked }\n        />))\n      }\n    </div>\n  );\n}\n}\n\nexport default Favorites;\n","import React from 'react';\n\nclass NotFound extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\">Not Found</div>\n    );\n  }\n}\n\nexport default NotFound;\n","import React from 'react';\nimport Header from '../components/Header';\n\nclass Profile extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile\">\n        <Header />\n        <h1>Profile</h1>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React from 'react';\nimport Header from '../components/Header';\n\nclass ProfileEdit extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        <h1>Profile Edit</h1>\n      </div>\n    );\n  }\n}\n\nexport default ProfileEdit;\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from '../pages/Login';\nimport Search from '../pages/Search';\nimport Album from '../pages/Album';\nimport Favorites from '../pages/Favorites';\nimport NotFound from '../pages/NotFound';\nimport Profile from '../pages/Profile';\nimport ProfileEdit from '../pages/ProfileEdit';\n\nexport default class Components extends Component {\n  render() {\n    return (\n      <Switch>\n        <Route exact path=\"/\" component={ Login } />\n        <Route path=\"/search\" component={ Search } />\n        <Route path=\"/album/:id\" component={ Album } />\n        <Route path=\"/favorites\" component={ Favorites } />\n        <Route exact path=\"/profile/edit\" component={ ProfileEdit } />\n        <Route path=\"/profile\" component={ Profile } />\n        <Route path=\"*\" component={ NotFound } />\n      </Switch>\n    );\n  }\n}\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './App.css';\nimport Components from './components/Component';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div>\n        <p className=\"title\">TrybeTunes</p>\n        <BrowserRouter>\n          <Components />\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  history: PropTypes.string,\n}.isRequired;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}